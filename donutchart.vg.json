{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "title":{"text":"Michelin Star Cuisine Distribution", "align": "center"},
    "height": 300,
    "width": 300,
    "params":[
      {
        "name":"country_select",
        "value":"Austria",
        "bind": {
          "input": "select",
          "options":["Austria", "Brazil", "China", "Croatia", "Czechia", "Denmark", "Faroe_Islands", "Greece","Hong_Kong_S.A.R.","Hungary","Ireland","Jersey","Macau_S.A.R.","Norway","Poland","Singapore","Sweden","South Korea","Taiwan","Thailand","United_Kingdom", "United_States"],
          "labels":["Austria", "Brazil", "China", "Croatia", "Czechia", "Denmark", "Faroe Islands", "Greece","Hong Kong S.A.R.","Hungary","Ireland","Jersey","Macau S.A.R.","Norway","Poland","Singapore","Sweden","South Korea","Taiwan","Thailand","United Kingdom", "United States"],
          "name":"Select a Country"
        }
      }
    ],
    "data": {
      "url": "https://raw.githubusercontent.com/jdan0003/FIT3179DataVis2/main/all-michelin_underscore.csv"
    },
    "layer": [
      {"transform": [
      {"filter":"datum.country == country_select"}
    ],
        "mark": {
          "type": "arc",
          "innerRadius": 80,
          "tooltip": {"content": "data"}
        },
        "encoding": {
          "theta": {"aggregate": "count", "type": "quantitative"},
          "color": {"field": "cuisine", "type": "nominal", "title":"Cuisine"},
          "tooltip": [
            {"aggregate": "count", "field": "cuisine", "title":"Total Restaurants"},
            {"field": "cuisine", "type": "nominal", "title":"Cuisine"}
          ]
        }
      },
      {
        "data":{"url":"https://raw.githubusercontent.com/jdan0003/FIT3179DataVis2/main/flagicons.csv"},
        "transform": [
      {"filter":"datum.Country == country_select"}
    ],
        "mark": {
          "type": "image",
          "width": 100,
          "height": 100
        },
        "encoding": {
          "x":{"value":150},
          "y":{"value":150},
          "url":{"field":"Image", "type": "nominal"}
        }
      }
    ]
  }